# 财务计算指标表设置按钮逻辑修复计划

## 问题描述
在财务计算指标表modal中，点击设置按钮后，弹出的modal逻辑不正确。

## 问题分析
1. 当前设置按钮的点击处理逻辑（第2792-2796行）：
   ```typescript
   onClick={(e) => {
     e.stopPropagation();
     setShowFinancialIndicatorsSettings(true);
   }}
   ```

2. 问题所在：
   - 设置modal是独立于财务指标表modal的
   - 当设置modal打开时，它应该显示在财务指标表modal的上方，而不是替换它
   - 在财务指标表modal的关闭处理中（第2778-2782行），当关闭财务指标表modal时，也会关闭设置modal，这种处理方式会导致用户体验不佳

## 修复方案
1. 修改设置按钮的点击处理逻辑：
   - 先关闭财务指标表modal
   - 然后打开设置modal
   - 使用setTimeout确保设置modal在财务指标表modal关闭后再打开

2. 修改后的代码：
   ```typescript
   onClick={(e) => {
     e.stopPropagation();
     // 先关闭财务指标表modal，然后打开设置modal
     setShowFinancialIndicatorsModal(false);
     // 使用setTimeout确保设置modal在财务指标表modal关闭后再打开
     setTimeout(() => {
       setShowFinancialIndicatorsSettings(true);
     }, 100);
   }}
   ```

3. 修改设置modal的关闭处理逻辑：
   - 在设置modal关闭后，重新打开财务指标表modal
   - 这样可以保持用户的操作流程连贯

## 修复步骤
1. 修改财务计算指标表modal中设置按钮的点击处理逻辑
2. 修改财务指标设置modal的关闭处理逻辑
3. 测试修复后的设置按钮功能

## 预期效果
- 点击设置按钮后，财务指标表modal会先关闭
- 然后设置modal会打开
- 在设置modal中完成设置后，关闭设置modal会重新打开财务指标表modal
- 用户操作流程更加连贯和直观