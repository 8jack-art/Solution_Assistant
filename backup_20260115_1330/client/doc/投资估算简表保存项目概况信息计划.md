# 投资估算简表保存项目概况信息计划

## 需求背景
在投资估算简表页面，点击"收入成本预测"按钮时，需要同时保存2个信息供后续"AI生成项目概况"调用。

## 保存的信息

### 信息1：投资构成信息
格式：`总投资xxx万元，其中：工程费用xxx万元，工程建设其他费用xxx万元，基本预备费xxx万元，建设期利息xxx万元。`

数据来源：
- 总投资：`estimate.partG.合计`
- 工程费用：`estimate.partA.合计`
- 工程建设其他费用：`estimate.partB.合计 - 预备费相关`
- 基本预备费：`estimate.partB.children` 中查找
- 建设期利息：`estimate.partD.合计`

### 信息2：资金来源信息
格式：`资金来源：申请银行贷款xxx万元，占投资估算总额的xx.xx%；业主多渠道筹集xxx万元，占投资估算总额的xx.xx%。`

数据来源：
- 贷款总额：`estimate.partF.贷款总额`
- 自筹金额：`总投资 - 贷款总额`
- 比例计算：自动计算占比

## 实现方案

### 1. InvestmentSummary.tsx 修改
- 添加 `generateInvestmentSummaryText()` 函数生成投资构成信息
- 添加 `generateFundingSourceText()` 函数生成资金来源信息
- 添加 `saveProjectOverviewInfo()` 函数保存到localStorage
- 在"收入成本预测"按钮点击事件中调用保存函数

### 2. useProjectOverviewData.ts 修改
- 添加 `getSavedProjectOverviewInfo()` 函数从localStorage读取
- 修改 `useProjectOverviewData()` 优先使用保存的信息
- 添加详细的debug日志

## Debug信息

### 保存时输出
```
============================================================
[保存项目概况信息] 已保存到localStorage
项目ID: xxx
保存时间: 2024-01-01T00:00:00.000Z

【投资构成信息】
总投资xxx万元，其中：工程费用xxx万元，工程建设其他费用xxx万元，基本预备费xxx万元，建设期利息xxx万元。

【资金来源信息】
资金来源：申请银行贷款xxx万元，占投资估算总额的xx.xx%；业主多渠道筹集xxx万元，占投资估算总额的xx.xx%。

【完整保存数据】
{...}
============================================================
```

### 读取时输出
```
[getSavedProjectOverviewInfo] 从localStorage读取数据: {...}
[useProjectOverviewData] 使用保存的投资构成信息
[useProjectOverviewData] 使用保存的资金来源信息
[useProjectOverviewData] 提取的数据: {...}
```

## 存储位置
使用localStorage存储，key格式：`project_overview_${projectId}`

存储数据结构：
```typescript
{
  investmentSummary: string,  // 投资构成信息
  fundingSource: string,      // 资金来源信息
  savedAt: string,            // 保存时间
  projectId: string           // 项目ID
}
```
