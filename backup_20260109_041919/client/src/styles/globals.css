/* Mantine核心样式 */
@import '@mantine/core/styles.css';
@import '@mantine/notifications/styles.css';
@import '@mantine/dates/styles.css';

/* 设计令牌 - 必须在tailwind之前导入 */
@import './design-tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    font-family: var(--font-family-base);
    background-color: var(--bg-secondary);
    color: var(--text-primary);
  }
  
  /* 标题样式统一 */
  h1, h2, h3, h4, h5, h6 {
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin: 0;
  }
  
  h1 { font-size: var(--font-size-3xl); line-height: var(--line-height-tight); }
  h2 { font-size: var(--font-size-2xl); line-height: var(--line-height-tight); }
  h3 { font-size: var(--font-size-xl); line-height: var(--line-height-tight); }
  h4 { font-size: var(--font-size-lg); line-height: var(--line-height-tight); }
  h5 { font-size: var(--font-size-base); line-height: var(--line-height-normal); }
  h6 { font-size: var(--font-size-sm); line-height: var(--line-height-normal); }
  
  /* 链接样式 */
  a {
    color: var(--color-primary-500);
    text-decoration: none;
    transition: color var(--transition-fast);
  }
  
  a:hover {
    color: var(--color-primary-600);
  }
  
  /* 按钮重置 */
  button {
    font-family: inherit;
    cursor: pointer;
    border: none;
    background: none;
  }
}

@layer components {
  /* 容器 */
  .container {
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 var(--spacing-4);
  }
  
  @media (min-width: 768px) {
    .container {
      padding: 0 var(--spacing-6);
    }
  }
  
  @media (min-width: 1024px) {
    .container {
      padding: 0 var(--spacing-8);
    }
  }
  
  /* 卡片基础样式 */
  .card {
    background-color: var(--bg-primary);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    transition: box-shadow var(--transition-base), border-color var(--transition-base);
  }
  
  .card:hover {
    box-shadow: var(--shadow-md);
  }
  
  /* 输入框基础样式 */
  .input-base {
    width: 100%;
    height: var(--input-height-md);
    padding: 0 var(--input-padding-x-md);
    font-size: var(--font-size-sm);
    color: var(--text-primary);
    background-color: var(--bg-primary);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-sm);
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
  }
  
  .input-base:focus {
    outline: none;
    border-color: var(--border-focus);
    box-shadow: 0 0 0 3px rgba(30, 111, 255, 0.1);
  }
  
  .input-base::placeholder {
    color: var(--text-tertiary);
  }
  
  /* 按钮基础样式 */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-2);
    height: var(--button-height-md);
    padding: 0 var(--button-padding-x-md);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    white-space: nowrap;
  }
  
  .btn-primary {
    background-color: var(--color-primary-500);
    color: var(--text-inverse);
  }
  
  .btn-primary:hover {
    background-color: var(--color-primary-600);
  }
  
  .btn-secondary {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border: 1px solid var(--border-primary);
  }
  
  .btn-secondary:hover {
    background-color: var(--bg-tertiary);
  }
  
  /* 徽章样式 */
  .badge {
    display: inline-flex;
    align-items: center;
    padding: var(--spacing-1) var(--spacing-2);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    border-radius: var(--radius-sm);
  }
  
  .badge-success {
    background-color: var(--color-success-50);
    color: var(--color-success-600);
  }
  
  .badge-warning {
    background-color: var(--color-warning-50);
    color: var(--color-warning-600);
  }
  
  .badge-error {
    background-color: var(--color-error-50);
    color: var(--color-error-600);
  }
  
  /* 加载动画 */
  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }
  
  .spinner {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 2px solid var(--border-primary);
    border-top-color: var(--color-primary-500);
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
  }
  
  /* 淡入动画 */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-fade-in {
    animation: fadeIn var(--transition-slow) ease-out;
  }
  
  /* 滑入动画 */
  @keyframes slideIn {
    from {
      transform: translateX(-100%);
    }
    to {
      transform: translateX(0);
    }
  }
  
  .animate-slide-in {
    animation: slideIn var(--transition-base) ease-out;
  }
}

/* 可访问性增强 */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* 焦点陷阱 */
.focus-trap {
  outline: none;
}

.focus-trap:focus-visible {
  outline: 2px solid var(--color-primary-500);
  outline-offset: 2px;
}